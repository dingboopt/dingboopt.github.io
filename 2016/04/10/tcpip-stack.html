<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>tcp/ip stack</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//dingboopt.github.io/themes/Casper/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//dingboopt.github.io/themes/Casper/assets/css/screen.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://dingboopt.github.io/2016/04/10/tcpip-stack.html" />
    
    <meta property="og:site_name" content="" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="tcp/ip stack" />
    <meta property="og:description" content="不能插入图片，我也是醉了Stack Exchange Inbox Reputation and Badges sign up log in tour help Search Q&amp;amp;A Stack Overflow Questions Jobs Tags Users Badges Ask Question _ Stack Overflow is a community of 4.7 million programmers, just like you, helping..." />
    <meta property="og:url" content="https://dingboopt.github.io/2016/04/10/tcpip-stack.html" />
    <meta property="article:published_time" content="2016-04-09T16:00:00.000Z" />
    <meta property="article:modified_time" content="2016-04-10T15:14:30.751Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="tcp/ip stack" />
    <meta name="twitter:description" content="不能插入图片，我也是醉了Stack Exchange Inbox Reputation and Badges sign up log in tour help Search Q&amp;amp;A Stack Overflow Questions Jobs Tags Users Badges Ask Question _ Stack Overflow is a community of 4.7 million programmers, just like you, helping..." />
    <meta name="twitter:url" content="https://dingboopt.github.io/2016/04/10/tcpip-stack.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "",
    "author": {
        "@type": "Person",
        "name": null,
        "image": "https://avatars.githubusercontent.com/u/18365128?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "tcp/ip stack",
    "url": "https://dingboopt.github.io/2016/04/10/tcpip-stack.html",
    "datePublished": "2016-04-09T16:00:00.000Z",
    "dateModified": "2016-04-10T15:14:30.751Z",
    "description": "不能插入图片，我也是醉了Stack Exchange Inbox Reputation and Badges sign up log in tour help Search Q&amp;amp;A Stack Overflow Questions Jobs Tags Users Badges Ask Question _ Stack Overflow is a community of 4.7 million programmers, just like you, helping..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="" href="https://dingboopt.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template">

    


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="https://dingboopt.github.io">Home</a>
        <!-- <a class="subscribe-button icon-feed" href="https://dingboopt.github.io/rss/">Subscribe</a> -->
    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">tcp/ip stack</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-04-10">10 April 2016</time> 
            </section>
        </header>

        <section class="post-content">
            <div class="paragraph">
<p>不能插入图片，我也是醉了Stack Exchange Inbox Reputation and Badges sign up log in tour help</p>
</div>
<div class="paragraph">
<p>Search Q&amp;A</p>
</div>
<div class="paragraph">
<p>Stack Overflow
Questions</p>
</div>
<div class="paragraph">
<p>Jobs</p>
</div>
<div class="paragraph">
<p>Tags</p>
</div>
<div class="paragraph">
<p>Users</p>
</div>
<div class="paragraph">
<p>Badges</p>
</div>
<div class="paragraph">
<p>Ask Question
_ Stack Overflow is a community of 4.7 million programmers, just like you, helping each other.</p>
</div>
<div class="paragraph">
<p>Join them; it only takes a minute:</p>
</div>
<div class="paragraph">
<p>Sign up
Join the Stack Overflow community to:
Ask programming questions Answer and help your peers Get recognized for your expertise
Unable to establish SSL connection upon wget on Ubuntu 14.04 LTS</p>
</div>
<div class="paragraph">
<p>up vote
3
down vote
favorite
1
I tried to download an image through wget but I got an error: Unable to establish SSL connection.</p>
</div>
<div class="paragraph">
<p>wget <a href="https://www.website.com/image.jpg" class="bare">https://www.website.com/image.jpg</a>
--2015-02-26 01:30:17--  <a href="https://www.website.com/image.jpg" class="bare">https://www.website.com/image.jpg</a>
Resolving www.website.com (www.website.com)&#8230;&#8203; xx.xxx.xx.xx
Connecting to www.website.com (www.website.com)|xx.xxx.xx.xx|:443&#8230;&#8203; connected.
Unable to establish SSL connection.
My test case:</p>
</div>
<div class="paragraph">
<p>Using Ubuntu 12.04.4 LTS (GNU/Linux 3.8.0-44-generic x86_64), GNU Wget 1.13.4 built on linux-gnu, I was able to download the image using the code above. No error.
Using Ubuntu 14.04 LTS (GNU/Linux 3.13.0-24-generic x86_64), GNU Wget 1.15 built on linux-gnu, I was not able to download the image using the code above.
Another variable is that the www.website.com uses TLS 1.0. I don&#8217;t have an idea how this affects wget. But if I wget an image from TLS 1.2 websites I don&#8217;t get any ssl connection errors from both test cases.</p>
</div>
<div class="paragraph">
<p>Is Ubuntu 14.04 or wget 1.15 not compatible with TLS 1.0 websites? Do I need to install/download any library/software to enable this connection?</p>
</div>
<div class="paragraph">
<p>linux ubuntu ssl wget
shareimprove this question
asked Feb 27 '15 at 3:52</p>
</div>
<div class="paragraph">
<p>xanderlopez
6527</p>
</div>
<div class="paragraph">
<p>This sounds like the wget is failing during the SSL handshake. This is most likely occurring because your Ubuntu 14.04 does not trust the domain www.website.com. You may need to install this website&#8217;s server certificate into your trust store. – Tim Biegeleisen Feb 27 '15 at 4:10</p>
</div>
<div class="paragraph">
<p>If this error happens with any other SSL site too add this information to your question. If this happens only with a specific site and if this site works in the browser show the exact URL. If this site does not work in the browser too it is a problem if the site itself. – Steffen Ullrich Feb 27 '15 at 5:13</p>
</div>
<div class="paragraph">
<p>@TimBiegeleisen I downloaded www.website.com&#8217;s certificate through Chrome: clicked lock sign &#8594; connection tab &#8594; certificate information link &#8594; details &#8594; URI link. Then I copied it to the server, then followed how to install root certificate (askubuntu.com/questions/73287/…). Then after /etc/ssl/certs$ ls, I found the certificate there. I tried to wget again but I still get the same error. – xanderlopez Feb 27 '15 at 7:12</p>
</div>
<div class="paragraph">
<p>@SteffenUllrich right now it happens only to the website I&#8217;m testing. I can&#8217;t post it here because it&#8217;s confidential. – xanderlopez Feb 27 '15 at 7:17</p>
</div>
<div class="paragraph">
<p>Possible duplicate of Unable to establish SSL connection, how do I fix my SSL cert? – kenorb Feb 2 at 11:30
add a comment
2 Answers
active oldest votes
up vote
5
down vote
accepted
&#8230;&#8203; right now it happens only to the website I&#8217;m testing. I can&#8217;t post it here because it&#8217;s confidential.
Then I guess it is one of the sites which is incompatible with TLS1.2. The openssl as used in 12.04 does not use TLS1.2 on the client side while with 14.04 it uses TLS1.2 which might explain the difference. To work around try to explicitly use
--secure-protocol=TLSv1. If this does not help check if you can access the site with openssl s_client -connect &#8230;&#8203; (probably not) and with openssl s_client -tls1 -no_tls1_1, -no_tls1_2 &#8230;&#8203;.</p>
</div>
<div class="paragraph">
<p>Please note that it might be other causes, but this one is the most probable and without getting access to the site everything is just speculation anyway.</p>
</div>
<div class="paragraph">
<p>The assumed problem in detail: Usually clients use the most compatible handshake to access a server. This is the SSLv23 handshake which is compatible to older SSL versions but announces the best TLS version the client supports, so that the server can pick the best version. In this case wget would announce TLS1.2. But there are some broken servers which never assumed that one day there would be something like TLS1.2 and which refuse the handshake if the client announces support for this hot new version (from 2008!) instead of just responding with the best version the server supports. To access these broken servers the client has to lie and claim that it only supports TLS1.0 as the best version.</p>
</div>
<div class="paragraph">
<p>Is Ubuntu 14.04 or wget 1.15 not compatible with TLS 1.0 websites? Do I need to install/download any library/software to enable this connection?
The problem is the server, not the client. Most browsers work around these broken servers by retrying with a lower version. Most other applications fail permanently if the first connection attempt fails, i.e. they don&#8217;t downgrade by itself and one has to enforce another version by some application specific settings.</p>
</div>
<div class="paragraph">
<p>shareimprove this answer
edited Feb 27 '15 at 7:46
answered Feb 27 '15 at 7:40</p>
</div>
<div class="paragraph">
<p>Steffen Ullrich
27.1k21347
add a comment</p>
</div>
<div class="paragraph">
<p>up vote
0
down vote
If you trust the host, either add the valid certificate, specify --no-check-certificate or add:</p>
</div>
<div class="paragraph">
<p>check_certificate = off
into your ~/.wgetrc.</p>
</div>
<div class="paragraph">
<p>In some rare cases, your system time could be out-of-sync therefore invalidating the certificates.</p>
</div>
<div class="paragraph">
<p>shareimprove this answer
answered Feb 2 at 11:33</p>
</div>
<div class="paragraph">
<p>kenorb
13.5k79486
add a comment
Your Answer</p>
</div>
<div class="paragraph">
<p>Sign up or log in</p>
</div>
<div class="paragraph">
<p>Sign up using Google
Sign up using Facebook
Sign up using Email and Password
Post as a guest</p>
</div>
<div class="paragraph">
<p>Name</p>
</div>
<div class="paragraph">
<p>Email</p>
</div>
<div class="paragraph">
<p>required, but never shown
 Post Your Answer
By posting your answer, you agree to the privacy policy and terms of service.</p>
</div>
<div class="paragraph">
<p>Not the answer you&#8217;re looking for?	Browse other questions tagged linux ubuntu ssl wget or ask your own question.</p>
</div>
<div class="paragraph">
<p>asked</p>
</div>
<div class="paragraph">
<p>1 year ago</p>
</div>
<div class="paragraph">
<p>viewed</p>
</div>
<div class="paragraph">
<p>9884 times</p>
</div>
<div class="paragraph">
<p>active</p>
</div>
<div class="paragraph">
<p>2 months ago</p>
</div>
<div class="paragraph">
<p>Looking for a job?
ソリューション・エンジニア - Solution Engineer
アクセンチュアテクノロジー Accenture TechnologyTokyo, Japan
pythonjava
Web Developer
Univa PaycastMinato, Japan
javajavascript
Software Engineer (Scala/Ruby/Java)
M3, Inc.Tokyo, Japan
javaruby-on-rails
Data Science Engineer
RakutenSetagaya, Japan
javahadoop
Linked</p>
</div>
<div class="paragraph">
<p>29 Unable to establish SSL connection, how do I fix my SSL cert?
Related</p>
</div>
<div class="paragraph">
<p>2 why can&#8217;t get this page using wget(ubuntu)?
29 Unable to establish SSL connection, how do I fix my SSL cert?
0 Unable to establish SSL connection while setting up SSL on Ubuntu/Apache2
0 MySQL 5.5 and SSL on Ubuntu 14.04
0 Unable to connect (trying to set up SSL in ubuntu)
0 How do I upgrade docker on my Ubuntu 14.04 machine?
1 arcanist / curl is unable to make ssl connections
0 Cant connect to mysql ssl with compiled php (ubuntu 12)
0 Ubuntu 14.04 - wget is hanging
0 Ubuntu install Java8 got Error “Unable to establish SSL connection. ” How can I fix it?
Hot Network Questions</p>
</div>
<div class="paragraph">
<p>English word for "repetitive, boring work"?
Why does everyone use git in a centralized manner?
Can Goodberry be used to summon watermelons?
What are the programming and computer references in Steins;Gate?
Can a shield be used with Mage Armor?
What is the correct spelling of the head of the Derbytantes group?
How to add more polygons in edit mode
Can a plant evolve to give off CO2?
How I can align 2 arrays?
Riddles whose answer is "the moon"
Why are there so many primes in the convergents of Pi?
What is "Soft Coding", really?
Has Batman ever fought Hawkman?
Copycat Chess (Part 3/3)
Does sum of the reciprocals of all the composite numbers converge?
A (440 Hz) and A (880 Hz) are completely different sounds to me. Does this mean I&#8217;m tone deaf?
Are backpacks accepted in most American work places? If so, for how long?
Are there German words that get pronounced differently based on whether they are capitalized?
Methods (mechanics) to select a set of pictures from large amounts
Greatest Common Divisor
This C function should only return false, but it doesn’t
The Russian equivalent of 'meeting', as in team meeting
Probability of Winning in Sports
What does "int&amp; foo()" mean in C++?
question feed
about us tour help blog chat data legal privacy policy work here advertising info mobile contact us feedback
TECHNOLOGY	LIFE / ARTS	CULTURE / RECREATION	SCIENCE	OTHER
Stack Overflow
Server Fault
Super User
Web Applications
Ask Ubuntu
Webmasters
Game Development
TeX - LaTeX
Programmers
Unix &amp; Linux
Ask Different (Apple)
WordPress Development
Geographic Information Systems
Electrical Engineering
Android Enthusiasts
Information Security
Database Administrators
Drupal Answers
SharePoint
User Experience
Mathematica
Salesforce
ExpressionEngine® Answers
more (13)
Photography
Science Fiction &amp; Fantasy
Graphic Design
Movies &amp; TV
Seasoned Advice (cooking)
Home Improvement
Personal Finance &amp; Money
Academia
more (9)
English Language &amp; Usage
Skeptics
Mi Yodeya (Judaism)
Travel
Christianity
Arqade (gaming)
Bicycles
Role-playing Games
more (21)
Mathematics
Cross Validated (stats)
Theoretical Computer Science
Physics
MathOverflow
Chemistry
Biology
more (5)
Stack Apps
Meta Stack Exchange
Area 51
Stack Overflow Careers
site design / logo © 2016 Stack Exchange Inc; user contributions licensed under cc by-sa 3.0 with attribution required
rev 2016.4.8.3448</p>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="" style="background-image: url(https://avatars.githubusercontent.com/u/18365128?v=3)"><span class="hidden">'s Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href=""></a></h4>

                    <p>Read <a href="">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=tcp%2Fip%20stack&amp;url=https://dingboopt.github.io/2016/04/10/tcpip-stack.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://dingboopt.github.io/2016/04/10/tcpip-stack.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://dingboopt.github.io/2016/04/10/tcpip-stack.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="https://dingboopt.github.io"></a> &copy; 2016</section>
        <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
    </footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//dingboopt.github.io/themes/Casper/assets/js/jquery.fitvids.js?v=1.0.0"></script>
    <script type="text/javascript" src="//dingboopt.github.io/themes/Casper/assets/js/index.js?v=1.0.0"></script>

</body>
</html>
